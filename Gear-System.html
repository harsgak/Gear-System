<!DOCTYPE html>
 
 
<html>
 <head>
   <style>
     #gearsCanvas {
           position:fixed;
           right:0%; 
           bottom:0%;
     }


   </style>
   <script>
        var canvas, ctx;
        var centerX=0, centerY=0, Angle=0.015 , dA=0;
        var rpm=3
        var homeradius=184 , otherradius=59
        var circles = []
        var navlinks=[]
        var Circle = function(x, y, radius) {
    this.left = x - radius;
    this.top = y - radius;
    this.right = x + radius;
    this.bottom = y + radius;
};
       function init() {
            // This function is called after the page is loaded
            // 1 - Get the canvas
            canvas = document.getElementById('gearsCanvas');
            // 2 - Get the context
            ctx=canvas.getContext('2d');
            clickRegions()
            canvas.addEventListener('click', clickedHere );
            canvas.addEventListener("mouseover", stop);
            canvas.addEventListener("mouseout", start);
            
          requestId = requestAnimationFrame(animationLoop)
        }




       function clickRegions(){
        //inspiraion from pterkildsen
          var circle0 = new Circle(293,295,0.7071*homeradius);
          var circle1 = new Circle(519,295, otherradius);
          var circle2 = new Circle(488,408,otherradius);
          var circle3 = new Circle(406,490,otherradius);
          var circle4 = new Circle(293,520,otherradius);
          var circle5 = new Circle(181,490,otherradius);
          var circle6 = new Circle(99,408,otherradius);
          var circle7 = new Circle(68,294,otherradius);
          var circle8 = new Circle(99,183,otherradius);
          var circle9 = new Circle(180,100,otherradius);
          var circle10 = new Circle(293,69,otherradius);
          var circle11 = new Circle(406,100,otherradius);
          var circle12 = new Circle(488,182,otherradius);
          

          
          circles.push(circle0);
          circles.push(circle1);
          circles.push(circle2);
          circles.push(circle3);
          circles.push(circle4);
          circles.push(circle5);
          circles.push(circle6);
          circles.push(circle7);
          circles.push(circle8);
          circles.push(circle9);
          circles.push(circle10);
          circles.push(circle11);
          circles.push(circle12);
          navlinks.push("http://2015.igem.org/Team:IISER_Pune");                 //0
          navlinks.push("http://2015.igem.org/Team:IISER_Pune/Team");            //1
          navlinks.push("http://2015.igem.org/Team:IISER_Pune/Projects");        //2
          navlinks.push("http://2015.igem.org/Team:IISER_Pune/Parts");           //3
          navlinks.push("http://2015.igem.org/Team:IISER_Pune/Notebook");        //4
          navlinks.push("http://2015.igem.org/Team:IISER_Pune/Attributions");    //5
          navlinks.push("http://2015.igem.org/Team:IISER_Pune/Collaborations");  //6
          navlinks.push("http://2015.igem.org/Team:IISER_Pune/Practices");       //7
          navlinks.push("http://2015.igem.org/Team:IISER_Pune/Safety");          //8
          navlinks.push("http://2015.igem.org/Team:IISER_Pune/Modeling");        //9
          navlinks.push("http://2015.igem.org/Team:IISER_Pune/Measurement");     //10
          navlinks.push("http://2015.igem.org/Team:IISER_Pune/Software");        //11
          navlinks.push("http://2015.igem.org/Team:IISER_Pune/Entrepreneurship");//12
          
          
       };
       
       function clickedHere (e) {
         //Identifies Which circle clicked
         //put a function for opening respective page in if block
         var clickedX = e.pageX - this.offsetLeft;
         var clickedY = e.pageY - this.offsetTop;
    
         for (var i = 0; i < circles.length; i++) {
             if (clickedX < circles[i].right && clickedX > circles[i].left && clickedY > circles[i].top && clickedY < circles[i].bottom) {
                 openpage(i);
             }
         }
       }
       
       

       
       
       function openpage(i){
          window.location.href= navlinks[i]
       
       }
        function animationLoop() {
            // 1 - Clear the canvas
  
            ctx.clearRect(0, 0, canvas.width, canvas.height);
          
            // 2 Draw the gear canvas using variables for pos, angle, etc.
 
           drawGears(centerX, centerY, Angle);
		   ctx.drawImage(document.getElementById("Icons"),0,0,canvas.width,canvas.height)   //Icons on top
          
          
          
           // 3 Move the monster (change pos, angle, size, etc.)
          
          
          
          
          
          Angle+=rpm * 0.001745329252;
             dA-=rpm * 3.5 * 0.001745329252;
          
          requestId = requestAnimationFrame(animationLoop)
        }
        
        
        
        
 
   function putgear(atx,aty,sangle){
     ctx.save()
     ctx.translate(atx, aty)
     ctx.rotate(sangle)
     ctx .translate(- otherradius,- otherradius)
     ctx.drawImage(document.getElementById("Gearside"),0,0)
     ctx.restore()
   }
        
        
   function drawGears(x, y, angle, headColor, eyeColor) {   
     // GOOD PRACTICE : SAVE CONTEXT AND RESTORE IT AT THE END
     ctx.save();
     
     // Moves or scales coordinate system to draw gears at new angles , sizes

     ctx.translate(293,295);
     ctx.rotate(Angle)
     ctx.translate(-184,-184)
     ctx.drawImage(document.getElementById("Gearcentre"),0,0)
     ctx.restore()
     ctx.save();
     
     
     // draw side gears
     putgear(519,295,0+dA)
     putgear(488,408,-1.832595714594046+dA)
     putgear(406,490,-3.665191429188092+dA)
     putgear(293,520,-5.497787143782138+dA)
     putgear(181,490,-7.330382858376184+dA)
     putgear(99,408, -9.16297857297023+dA)
     putgear(68,294, 10.995574287564276+dA)
     putgear(99,183,  9.16297857297023+dA)
     putgear(180,100, 7.330382858376184+dA)
     putgear(293,69,  5.497787143782138+dA)
     putgear(406,100, 3.665191429188092+dA)
     putgear(488,182, 1.832595714594046+dA)
     

     
     
     // GOOD PRACTICE : Restore context at end
     ctx.restore();
      
   }
    
      
      function start(){
       if (requestId===0) {
        requestId = requestAnimationFrame(animationLoop)
       }
      }
      
      
    
     function stop() {
         if (requestId) {
             cancelAnimationFrame(requestId);
             requestId = 0;
         }
     }

   </script>
 

 </head>
<body onload="init();">
     
 
	 <div id="NavGear" >
	    <img id="Gearcentre" src="https://drive.google.com/uc?export=download&id=0B8v1GVwmFNTDRTVVOWV5LVFNOWs" alt="The centre gear[loading..]" height="0px">
        <img id="Gearside" src="https://drive.google.com/uc?export=download&id=0B8v1GVwmFNTDbHB1bjhka3hJR3M" alt="The side gear[loading..]" height="0px">
        <img id="Icons" src="https://drive.google.com/uc?export=download&id=0B9FrkQRqB6LUQk5PZ01qM29zeXc" alt="Navicons[loading..]" height="0px">
       <canvas id="gearsCanvas" width="601" height="607">
        Your browser does not support the canvas tag.
       </canvas>
     </div>
    
      
      
      
</body>
</html>